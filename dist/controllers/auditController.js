const a2_0x1ec146=a2_0x1792;(function(_0x3f043e,_0x2eba87){const _0x6588fb=a2_0x1792,_0x4a78a0=_0x3f043e();while(!![]){try{const _0x34c01e=parseInt(_0x6588fb(0xf0))/0x1*(-parseInt(_0x6588fb(0xee))/0x2)+parseInt(_0x6588fb(0xf3))/0x3*(parseInt(_0x6588fb(0xe9))/0x4)+-parseInt(_0x6588fb(0xf9))/0x5*(parseInt(_0x6588fb(0xf1))/0x6)+parseInt(_0x6588fb(0xec))/0x7*(parseInt(_0x6588fb(0xf4))/0x8)+-parseInt(_0x6588fb(0xef))/0x9+parseInt(_0x6588fb(0xea))/0xa*(-parseInt(_0x6588fb(0xe5))/0xb)+parseInt(_0x6588fb(0xe3))/0xc;if(_0x34c01e===_0x2eba87)break;else _0x4a78a0['push'](_0x4a78a0['shift']());}catch(_0x207d63){_0x4a78a0['push'](_0x4a78a0['shift']());}}}(a2_0x4ba7,0x2d545));function a2_0x4ba7(){const _0x35c3a1=['$gte','../model/auditLogModel','skip','5397108DCEXpo','createdAt','154Zyiafl','json','Failed\x20to\x20fetch\x20audit\x20logs','ceil','2500LAMTFU','62250eNNLAb','action','7atICfA','query','54JhDHvX','1932210aQceBJ','13753fUQBPc','6krJqfR','countDocuments','1677ZPrYyF','2622632khsZjw','message','userId','username\x20fullName','exports','1340615qhPZGq'];a2_0x4ba7=function(){return _0x35c3a1;};return a2_0x4ba7();}function a2_0x1792(_0x1dd961,_0x371013){_0x1dd961=_0x1dd961-0xe1;const _0x4ba72d=a2_0x4ba7();let _0x179287=_0x4ba72d[_0x1dd961];return _0x179287;}const AuditLog=require(a2_0x1ec146(0xe1)),getAuditLogs=async(_0x35572f,_0x2aeadd)=>{const _0x1a410b=a2_0x1ec146;try{const {userId:_0x27795d,action:_0xd0fe34,fromDate:_0x466b50,toDate:_0x24e5f4,page:page=0x1,limit:limit=0x14}=_0x35572f[_0x1a410b(0xed)],_0x283494={};_0x27795d&&(_0x283494[_0x1a410b(0xf6)]=_0x27795d);_0xd0fe34&&(_0x283494[_0x1a410b(0xeb)]=_0xd0fe34);if(_0x466b50||_0x24e5f4){_0x283494['createdAt']={};if(_0x466b50)_0x283494[_0x1a410b(0xe4)][_0x1a410b(0xfa)]=new Date(_0x466b50);if(_0x24e5f4)_0x283494[_0x1a410b(0xe4)]['$lte']=new Date(_0x24e5f4);}const _0x28d63c=parseInt(page,0xa),_0xee34e0=parseInt(limit,0xa),_0x4c92aa=(_0x28d63c-0x1)*_0xee34e0,_0x27a4b5=await AuditLog[_0x1a410b(0xf2)](_0x283494),_0x1f78cf=await AuditLog['find'](_0x283494)['populate'](_0x1a410b(0xf6),_0x1a410b(0xf7))['sort']({'createdAt':-0x1})[_0x1a410b(0xe2)](_0x4c92aa)['limit'](_0xee34e0);_0x2aeadd['status'](0xc8)[_0x1a410b(0xe6)]({'success':!![],'data':_0x1f78cf,'pagination':{'total':_0x27a4b5,'page':_0x28d63c,'limit':_0xee34e0,'totalPages':Math[_0x1a410b(0xe8)](_0x27a4b5/_0xee34e0)}});}catch(_0x457f1a){_0x2aeadd['status'](0x1f4)[_0x1a410b(0xe6)]({'success':![],'message':_0x1a410b(0xe7),'error':_0x457f1a[_0x1a410b(0xf5)]});}};module[a2_0x1ec146(0xf8)]={'getAuditLogs':getAuditLogs};