const a61_0x57ba1f=a61_0x4f7b;(function(_0x15daa9,_0x38ee0c){const _0x85c80a=a61_0x4f7b,_0x6d924a=_0x15daa9();while(!![]){try{const _0x2c454d=-parseInt(_0x85c80a(0x1aa))/0x1*(-parseInt(_0x85c80a(0x1a7))/0x2)+-parseInt(_0x85c80a(0x19f))/0x3+parseInt(_0x85c80a(0x19c))/0x4+parseInt(_0x85c80a(0x1a6))/0x5+parseInt(_0x85c80a(0x1ad))/0x6*(-parseInt(_0x85c80a(0x1a3))/0x7)+parseInt(_0x85c80a(0x1a0))/0x8+-parseInt(_0x85c80a(0x19b))/0x9*(parseInt(_0x85c80a(0x196))/0xa);if(_0x2c454d===_0x38ee0c)break;else _0x6d924a['push'](_0x6d924a['shift']());}catch(_0x29665a){_0x6d924a['push'](_0x6d924a['shift']());}}}(a61_0x30b3,0x3b6c0));const path=require('path'),fs=require('fs'),{exec}=require('child_process'),backupLocationModel=require(a61_0x57ba1f(0x1a8));function a61_0x30b3(){const _0x43b30c=['join','1996015leQYVc','35142ACfSGj','../model/backupLocationModel','error','1DuAsSI','mongodump\x20--uri=\x22mongodb://localhost:27017/Inmate-dev\x22\x20--out=\x22','public','347604fqGqhZ','path','lean','58280ZAgyxZ','Error\x20fetching\x20backup\x20location:','existsSync','backups','split','36onMcDS','287744CpLqPR','toISOString','resolve','508125ZFPeNR','42424iGXDUE','message','âœ…\x20Backup\x20completed:\x20','7IwxypA','log'];a61_0x30b3=function(){return _0x43b30c;};return a61_0x30b3();}function a61_0x4f7b(_0x3b83f8,_0x29441c){_0x3b83f8=_0x3b83f8-0x196;const _0x30b352=a61_0x30b3();let _0x4f7b51=_0x30b352[_0x3b83f8];return _0x4f7b51;}async function backupDatabase(){const _0x17ff4c=a61_0x57ba1f;try{const _0xd7e31=await backupLocationModel['findOne']()[_0x17ff4c(0x1af)]();let _0xb2b6a4=_0xd7e31?.[_0x17ff4c(0x1ae)]||path[_0x17ff4c(0x1a5)](__dirname,'..',_0x17ff4c(0x1ac),_0x17ff4c(0x199));_0xb2b6a4=path[_0x17ff4c(0x19e)](_0xb2b6a4);const _0x70058e=new Date()[_0x17ff4c(0x19d)]()[_0x17ff4c(0x19a)]('T')[0x0],_0x12adbc=path[_0x17ff4c(0x1a5)](_0xb2b6a4,'backup-'+_0x70058e);if(!fs[_0x17ff4c(0x198)](_0x12adbc))fs['mkdirSync'](_0x12adbc,{'recursive':!![]});const _0x3ddcdd=_0x17ff4c(0x1ab)+_0x12adbc+'\x22';exec(_0x3ddcdd,(_0x5ab573,_0x3297a2,_0x1371de)=>{const _0x1db09d=_0x17ff4c;_0x5ab573?console[_0x1db09d(0x1a9)]('Backup\x20failed:',_0x5ab573[_0x1db09d(0x1a1)]):console[_0x1db09d(0x1a4)](_0x1db09d(0x1a2)+_0x12adbc);});}catch(_0x5a8718){console[_0x17ff4c(0x1a9)](_0x17ff4c(0x197),_0x5a8718['message']);}}module['exports']=backupDatabase;