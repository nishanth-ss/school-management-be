const a22_0x2fb286=a22_0x4f60;(function(_0x51c42b,_0x123e47){const _0x1f418a=a22_0x4f60,_0xfdcf22=_0x51c42b();while(!![]){try{const _0x53d089=parseInt(_0x1f418a(0x1e2))/0x1*(parseInt(_0x1f418a(0x1f0))/0x2)+-parseInt(_0x1f418a(0x1e4))/0x3+-parseInt(_0x1f418a(0x1de))/0x4+-parseInt(_0x1f418a(0x1e3))/0x5+parseInt(_0x1f418a(0x1eb))/0x6*(parseInt(_0x1f418a(0x1ee))/0x7)+parseInt(_0x1f418a(0x1dd))/0x8+parseInt(_0x1f418a(0x1e5))/0x9;if(_0x53d089===_0x123e47)break;else _0xfdcf22['push'](_0xfdcf22['shift']());}catch(_0x3f4922){_0xfdcf22['push'](_0xfdcf22['shift']());}}}(a22_0x8fff,0x9ae48));const multer=require('multer'),path=require(a22_0x2fb286(0x1e7)),fs=require('fs'),uploadDir=a22_0x2fb286(0x1ea),imageDir=path[a22_0x2fb286(0x1e8)](uploadDir,'images'),docsDir=path[a22_0x2fb286(0x1e8)](uploadDir,'docs');function a22_0x4f60(_0x23e78b,_0x48326c){_0x23e78b=_0x23e78b-0x1da;const _0x8fffdd=a22_0x8fff();let _0x4f60a4=_0x8fffdd[_0x23e78b];return _0x4f60a4;}function a22_0x8fff(){const _0x3c83a5=['1151314wkznra','existsSync','originalname','image/','9506920HQIsAI','2196404CrvyOT','startsWith','random','forEach','2dNBIJM','3690070okWiRX','2496738ymLlhn','2686158odrNBN','exports','path','join','toLowerCase','uploads/','138792PLgzqo','extname','Only\x20images\x20or\x20docs\x20are\x20allowed','35QmSCtb','now'];a22_0x8fff=function(){return _0x3c83a5;};return a22_0x8fff();}[uploadDir,imageDir,docsDir][a22_0x2fb286(0x1e1)](_0x3bd42e=>{const _0x2153ca=a22_0x2fb286;if(!fs[_0x2153ca(0x1da)](_0x3bd42e))fs['mkdirSync'](_0x3bd42e,{'recursive':!![]});});const storage=multer['diskStorage']({'destination':function(_0x396e6e,_0x21ae68,_0x5641fc){const _0x4a2f4c=a22_0x2fb286,_0x2262a1=_0x21ae68['mimetype'][_0x4a2f4c(0x1df)](_0x4a2f4c(0x1dc));_0x5641fc(null,_0x2262a1?imageDir:docsDir);},'filename':function(_0x853dd3,_0x184516,_0x40a3cf){const _0x53ddab=a22_0x2fb286,_0x51337e=Date[_0x53ddab(0x1ef)]()+'-'+Math['round'](Math[_0x53ddab(0x1e0)]()*0x3b9aca00);_0x40a3cf(null,_0x51337e+path[_0x53ddab(0x1ec)](_0x184516['originalname']));}}),allowedTypes=/jpeg|jpg|png|gif|pdf|doc|docx|xlsx|csv/,upload=multer({'storage':storage,'fileFilter':(_0x3034be,_0x521e64,_0x1842dc)=>{const _0x4cf774=a22_0x2fb286,_0x348ce1=path[_0x4cf774(0x1ec)](_0x521e64[_0x4cf774(0x1db)])[_0x4cf774(0x1e9)]();allowedTypes['test'](_0x348ce1)?_0x1842dc(null,!![]):_0x1842dc(new Error(_0x4cf774(0x1ed)));},'limits':{'fileSize':0xa*0x400*0x400}});module[a22_0x2fb286(0x1e6)]=upload;